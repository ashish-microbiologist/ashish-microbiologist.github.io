<!DOCTYPE html>
<html lang="hi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Admin Dashboard - OP ASHISH YT</title>
    <link rel="stylesheet" href="../assets/css/style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: #f5f7fb;
            color: #333;
            min-height: 100vh;
        }
        
        /* डैशबोर्ड कंटेनर */
        .dashboard-container {
            display: flex;
            min-height: 100vh;
        }
        
        /* साइडबार */
        .sidebar {
            width: 250px;
            background: linear-gradient(180deg, #1e3a8a 0%, #2563eb 100%);
            color: white;
            padding: 20px 0;
            position: fixed;
            height: 100vh;
            overflow-y: auto;
            box-shadow: 2px 0 10px rgba(0,0,0,0.1);
            transition: all 0.3s;
        }
        
        .sidebar-header {
            padding: 0 20px 20px;
            border-bottom: 1px solid rgba(255,255,255,0.1);
            text-align: center;
        }
        
        .sidebar-header img {
            width: 60px;
            height: 60px;
            border-radius: 50%;
            border: 3px solid white;
            margin-bottom: 10px;
        }
        
        .sidebar-header h3 {
            font-size: 1.2rem;
            margin-bottom: 5px;
        }
        
        .sidebar-header p {
            font-size: 0.8rem;
            opacity: 0.8;
        }
        
        .sidebar-menu {
            padding: 20px 0;
        }
        
        .sidebar-menu a {
            display: flex;
            align-items: center;
            gap: 12px;
            padding: 12px 20px;
            color: rgba(255,255,255,0.9);
            text-decoration: none;
            transition: all 0.3s;
            border-left: 3px solid transparent;
        }
        
        .sidebar-menu a:hover,
        .sidebar-menu a.active {
            background: rgba(255,255,255,0.1);
            color: white;
            border-left-color: white;
        }
        
        .sidebar-menu a i {
            width: 20px;
            text-align: center;
        }
        
        .sidebar-footer {
            padding: 20px;
            margin-top: auto;
            border-top: 1px solid rgba(255,255,255,0.1);
        }
        
        .user-profile {
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .user-avatar {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            background: white;
            color: #2563eb;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            font-size: 1.2rem;
        }
        
        .user-info h4 {
            font-size: 0.9rem;
            margin-bottom: 2px;
        }
        
        .user-info p {
            font-size: 0.7rem;
            opacity: 0.8;
        }
        
        .logout-btn {
            display: block;
            width: 100%;
            padding: 10px;
            background: rgba(255,255,255,0.1);
            color: white;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            text-align: center;
            margin-top: 10px;
            transition: background 0.3s;
        }
        
        .logout-btn:hover {
            background: rgba(255,255,255,0.2);
        }
        
        /* मुख्य कंटेंट */
        .main-content {
            flex: 1;
            margin-left: 250px;
            padding: 20px;
            transition: margin-left 0.3s;
        }
        
        /* हेडर */
        .dashboard-header {
            background: white;
            padding: 20px;
            border-radius: 10px;
            margin-bottom: 20px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.05);
            display: flex;
            justify-content: space-between;
            align-items: center;
            flex-wrap: wrap;
            gap: 15px;
        }
        
        .header-left h1 {
            color: #2563eb;
            font-size: 1.8rem;
            margin-bottom: 5px;
        }
        
        .header-left p {
            color: #666;
            font-size: 0.9rem;
        }
        
        .header-actions {
            display: flex;
            gap: 10px;
        }
        
        /* स्टैट्स ग्रिड */
        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }
        
        .stat-card {
            background: white;
            padding: 25px;
            border-radius: 10px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.05);
            text-align: center;
            transition: transform 0.3s;
        }
        
        .stat-card:hover {
            transform: translateY(-5px);
        }
        
        .stat-card i {
            font-size: 2.5rem;
            color: #2563eb;
            margin-bottom: 15px;
        }
        
        .stat-card h3 {
            font-size: 2rem;
            color: #1e3a8a;
            margin-bottom: 5px;
        }
        
        .stat-card p {
            color: #666;
            font-size: 0.9rem;
        }
        
        .stat-card .trend {
            font-size: 0.8rem;
            margin-top: 5px;
        }
        
        .trend.up {
            color: #10b981;
        }
        
        .trend.down {
            color: #ef4444;
        }
        
        /* एक्शंस बार */
        .actions-bar {
            background: white;
            padding: 20px;
            border-radius: 10px;
            margin-bottom: 20px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            flex-wrap: wrap;
            gap: 15px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.05);
        }
        
        .btn {
            padding: 10px 20px;
            border-radius: 5px;
            text-decoration: none;
            font-weight: bold;
            display: inline-flex;
            align-items: center;
            gap: 8px;
            transition: all 0.3s;
            border: none;
            cursor: pointer;
            font-size: 0.9rem;
        }
        
        .btn-primary {
            background: #2563eb;
            color: white;
        }
        
        .btn-primary:hover {
            background: #1d4ed8;
            transform: translateY(-2px);
        }
        
        .btn-success {
            background: #059669;
            color: white;
        }
        
        .btn-success:hover {
            background: #047857;
        }
        
        .btn-danger {
            background: #dc2626;
            color: white;
        }
        
        .btn-danger:hover {
            background: #b91c1c;
        }
        
        .btn-secondary {
            background: #6b7280;
            color: white;
        }
        
        .btn-secondary:hover {
            background: #4b5563;
        }
        
        /* सर्च और फिल्टर */
        .search-filter {
            display: flex;
            gap: 10px;
            flex-wrap: wrap;
        }
        
        .search-box {
            position: relative;
            flex: 1;
            min-width: 200px;
        }
        
        .search-box input {
            width: 100%;
            padding: 10px 40px 10px 15px;
            border: 2px solid #e5e7eb;
            border-radius: 5px;
            font-size: 0.9rem;
        }
        
        .search-box i {
            position: absolute;
            right: 15px;
            top: 50%;
            transform: translateY(-50%);
            color: #6b7280;
        }
        
        /* टेबल कंटेनर */
        .table-container {
            background: white;
            border-radius: 10px;
            overflow: hidden;
            box-shadow: 0 2px 10px rgba(0,0,0,0.05);
            margin-bottom: 30px;
            overflow-x: auto;
        }
        
        table {
            width: 100%;
            border-collapse: collapse;
        }
        
        thead {
            background: #f8fafc;
        }
        
        th {
            padding: 15px;
            text-align: left;
            font-weight: 600;
            color: #374151;
            border-bottom: 2px solid #e5e7eb;
            white-space: nowrap;
        }
        
        td {
            padding: 12px 15px;
            border-bottom: 1px solid #e5e7eb;
            vertical-align: middle;
        }
        
        tr:hover {
            background: #f9fafb;
        }
        
        .app-logo {
            width: 40px;
            height: 40px;
            border-radius: 8px;
            object-fit: cover;
        }
        
        .action-buttons {
            display: flex;
            gap: 5px;
        }
        
        .action-btn {
            padding: 5px 10px;
            border-radius: 4px;
            text-decoration: none;
            font-size: 0.8rem;
            transition: all 0.3s;
            border: none;
            cursor: pointer;
            display: inline-flex;
            align-items: center;
            gap: 5px;
        }
        
        .edit-btn {
            background: #3b82f6;
            color: white;
        }
        
        .edit-btn:hover {
            background: #2563eb;
        }
        
        .delete-btn {
            background: #ef4444;
            color: white;
        }
        
        .delete-btn:hover {
            background: #dc2626;
        }
        
        .view-btn {
            background: #10b981;
            color: white;
        }
        
        .view-btn:hover {
            background: #059669;
        }
        
        /* अलर्ट मैसेज */
        .alert {
            padding: 15px;
            border-radius: 8px;
            margin-bottom: 20px;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .alert.success {
            background: #d1fae5;
            color: #065f46;
            border-left: 4px solid #10b981;
        }
        
        .alert.error {
            background: #fee2e2;
            color: #dc2626;
            border-left: 4px solid #dc2626;
        }
        
        .alert.warning {
            background: #fef3c7;
            color: #92400e;
            border-left: 4px solid #f59e0b;
        }
        
        .alert.info {
            background: #dbeafe;
            color: #1e40af;
            border-left: 4px solid #3b82f6;
        }
        
        /* पेजिनेशन */
        .pagination {
            display: flex;
            justify-content: center;
            align-items: center;
            gap: 10px;
            margin-top: 20px;
            flex-wrap: wrap;
        }
        
        .page-btn {
            padding: 8px 15px;
            background: white;
            border: 1px solid #d1d5db;
            border-radius: 5px;
            text-decoration: none;
            color: #374151;
            transition: all 0.3s;
            cursor: pointer;
            min-width: 40px;
            text-align: center;
        }
        
        .page-btn:hover {
            background: #f3f4f6;
        }
        
        .page-btn.active {
            background: #2563eb;
            color: white;
            border-color: #2563eb;
        }
        
        .page-btn:disabled {
            opacity: 0.5;
            cursor: not-allowed;
        }
        
        /* बल्क एक्शंस */
        .bulk-actions {
            display: flex;
            gap: 10px;
            align-items: center;
            flex-wrap: wrap;
        }
        
        .select-all {
            margin-right: 10px;
        }
        
        /* चार्ट कंटेनर */
        .chart-container {
            background: white;
            padding: 20px;
            border-radius: 10px;
            margin-bottom: 30px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.05);
        }
        
        .chart-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
        }
        
        .chart-controls {
            display: flex;
            gap: 10px;
        }
        
        /* रिस्पॉन्सिव */
        @media (max-width: 1024px) {
            .sidebar {
                width: 200px;
            }
            
            .main-content {
                margin-left: 200px;
            }
        }
        
        @media (max-width: 768px) {
            .dashboard-container {
                flex-direction: column;
            }
            
            .sidebar {
                width: 100%;
                height: auto;
                position: relative;
                margin-bottom: 20px;
            }
            
            .main-content {
                margin-left: 0;
            }
            
            .sidebar-menu {
                display: flex;
                flex-wrap: wrap;
                justify-content: center;
            }
            
            .sidebar-menu a {
                padding: 10px 15px;
            }
            
            .stats-grid {
                grid-template-columns: repeat(2, 1fr);
            }
            
            .actions-bar {
                flex-direction: column;
                align-items: stretch;
            }
            
            .bulk-actions {
                flex-wrap: wrap;
            }
            
            .header-actions {
                flex-wrap: wrap;
            }
        }
        
        @media (max-width: 480px) {
            .stats-grid {
                grid-template-columns: 1fr;
            }
            
            .action-buttons {
                flex-direction: column;
            }
            
            .search-filter {
                flex-direction: column;
            }
        }
        
        /* लोडिंग */
        .loading {
            display: none;
            text-align: center;
            padding: 40px;
        }
        
        .loading i {
            font-size: 2rem;
            color: #2563eb;
            margin-bottom: 15px;
        }
        
        /* एम्प्टी स्टेट */
        .empty-state {
            text-align: center;
            padding: 50px 20px;
        }
        
        .empty-state i {
            font-size: 3rem;
            color: #9ca3af;
            margin-bottom: 15px;
        }
        
        .empty-state h3 {
            color: #6b7280;
            margin-bottom: 10px;
        }
        
        .empty-state p {
            color: #9ca3af;
            margin-bottom: 20px;
        }
        
        /* मोबाइल टॉगल बटन */
        .sidebar-toggle {
            display: none;
            position: fixed;
            top: 20px;
            left: 20px;
            z-index: 1001;
            background: #2563eb;
            color: white;
            border: none;
            width: 40px;
            height: 40px;
            border-radius: 50%;
            cursor: pointer;
            align-items: center;
            justify-content: center;
            font-size: 1.2rem;
            box-shadow: 0 2px 10px rgba(0,0,0,0.2);
        }
        
        @media (max-width: 768px) {
            .sidebar-toggle {
                display: flex;
            }
            
            .sidebar {
                position: fixed;
                left: -250px;
                z-index: 1000;
            }
            
            .sidebar.active {
                left: 0;
            }
            
            .main-content {
                margin-left: 0;
            }
            
            .sidebar-overlay {
                display: none;
                position: fixed;
                top: 0;
                left: 0;
                width: 100%;
                height: 100%;
                background: rgba(0,0,0,0.5);
                z-index: 999;
            }
            
            .sidebar-overlay.active {
                display: block;
            }
        }
        
        /* क्विक स्टैट्स */
        .quick-stats {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: 15px;
            margin-bottom: 20px;
        }
        
        .quick-stat {
            background: white;
            padding: 15px;
            border-radius: 8px;
            box-shadow: 0 2px 5px rgba(0,0,0,0.05);
            text-align: center;
        }
        
        .quick-stat i {
            font-size: 1.5rem;
            color: #2563eb;
            margin-bottom: 8px;
        }
        
        .quick-stat h4 {
            font-size: 1rem;
            margin-bottom: 5px;
            color: #374151;
        }
        
        .quick-stat p {
            font-size: 0.9rem;
            color: #6b7280;
        }
    </style>
</head>
<body>
    <!-- मोबाइल टॉगल बटन -->
    <button class="sidebar-toggle" id="sidebarToggle">
        <i class="fas fa-bars"></i>
    </button>
    
    <!-- साइडबार ओवरले -->
    <div class="sidebar-overlay" id="sidebarOverlay"></div>
    
    <!-- डैशबोर्ड कंटेनर -->
    <div class="dashboard-container">
        <!-- साइडबार -->
        <div class="sidebar" id="sidebar">
            <div class="sidebar-header">
                <img src="../assets/img/logo.png" alt="OP ASHISH YT" onerror="this.src='../assets/img/default-logo.png'">
                <h3>OP ASHISH YT</h3>
                <p>एडमिन कंट्रोल पैनल</p>
            </div>
            
            <div class="sidebar-menu">
                <a href="dashboard.html" class="active">
                    <i class="fas fa-tachometer-alt"></i> डैशबोर्ड
                </a>
                <a href="add-app.html">
                    <i class="fas fa-plus-circle"></i> नया ऐप जोड़ें
                </a>
                <a href="../index.html" target="_blank">
                    <i class="fas fa-external-link-alt"></i> वेबसाइट देखें
                </a>
                <a href="#" id="analyticsLink">
                    <i class="fas fa-chart-bar"></i> एनालिटिक्स
                </a>
                <a href="#" id="usersLink">
                    <i class="fas fa-users"></i> यूजर्स
                </a>
                <a href="#" id="settingsLink">
                    <i class="fas fa-cog"></i> सेटिंग्स
                </a>
                <a href="#" id="backupLink">
                    <i class="fas fa-database"></i> बैकअप
                </a>
            </div>
            
            <div class="sidebar-footer">
                <div class="user-profile">
                    <div class="user-avatar" id="userAvatar">A</div>
                    <div class="user-info">
                        <h4 id="userName">Admin</h4>
                        <p id="userRole">Super Admin</p>
                    </div>
                </div>
                <button class="logout-btn" id="logoutBtn">
                    <i class="fas fa-sign-out-alt"></i> लॉगआउट
                </button>
            </div>
        </div>
        
        <!-- मुख्य कंटेंट -->
        <div class="main-content">
            <!-- हेडर -->
            <div class="dashboard-header">
                <div class="header-left">
                    <h1><i class="fas fa-tachometer-alt"></i> एडमिन डैशबोर्ड</h1>
                    <p id="welcomeMessage">लोड हो रहा है...</p>
                </div>
                <div class="header-actions">
                    <a href="add-app.html" class="btn btn-primary">
                        <i class="fas fa-plus"></i> नया ऐप
                    </a>
                    <a href="../index.html" target="_blank" class="btn btn-secondary">
                        <i class="fas fa-eye"></i> वेबसाइट देखें
                    </a>
                    <button class="btn btn-success" id="refreshBtn">
                        <i class="fas fa-sync-alt"></i> रिफ्रेश
                    </button>
                </div>
            </div>
            
            <!-- अलर्ट मैसेज -->
            <div id="alertContainer"></div>
            
            <!-- क्विक स्टैट्स -->
            <div class="quick-stats" id="quickStats">
                <!-- क्विक स्टैट्स यहाँ डायनामिक भरे जाएंगे -->
            </div>
            
            <!-- स्टैट्स ग्रिड -->
            <div class="stats-grid">
                <div class="stat-card">
                    <i class="fas fa-mobile-alt"></i>
                    <h3 id="totalApps">0</h3>
                    <p>कुल ऐप्स</p>
                    <div class="trend up" id="appsTrend">+0%</div>
                </div>
                
                <div class="stat-card">
                    <i class="fas fa-download"></i>
                    <h3 id="totalDownloads">0</h3>
                    <p>कुल डाउनलोड</p>
                    <div class="trend up" id="downloadsTrend">+0%</div>
                </div>
                
                <div class="stat-card">
                    <i class="fas fa-chart-line"></i>
                    <h3 id="avgDownloads">0</h3>
                    <p>औसत डाउनलोड/ऐप</p>
                    <div class="trend up" id="avgTrend">+0%</div>
                </div>
                
                <div class="stat-card">
                    <i class="fas fa-calendar-alt"></i>
                    <h3 id="todayDownloads">0</h3>
                    <p>आज के डाउनलोड</p>
                    <div class="trend up" id="todayTrend">+0%</div>
                </div>
            </div>
            
            <!-- चार्ट सेक्शन -->
            <div class="chart-container" style="display: none;" id="chartSection">
                <div class="chart-header">
                    <h3><i class="fas fa-chart-bar"></i> डाउनलोड ट्रेंड्स</h3>
                    <div class="chart-controls">
                        <button class="btn btn-secondary" id="weekBtn">सप्ताह</button>
                        <button class="btn btn-secondary" id="monthBtn">महीना</button>
                        <button class="btn btn-secondary active" id="yearBtn">साल</button>
                    </div>
                </div>
                <div id="chartCanvas" style="height: 300px;"></div>
            </div>
            
            <!-- एक्शंस बार -->
            <div class="actions-bar">
                <div class="search-filter">
                    <div class="search-box">
                        <input type="text" id="searchInput" placeholder="ऐप्स सर्च करें...">
                        <i class="fas fa-search"></i>
                    </div>
                    <select id="categoryFilter" class="btn btn-secondary" style="padding: 8px 12px;">
                        <option value="">सभी कैटेगरी</option>
                        <option value="social">सोशल मीडिया</option>
                        <option value="entertainment">एंटरटेनमेंट</option>
                        <option value="tools">टूल्स</option>
                        <option value="games">गेम्स</option>
                    </select>
                    <select id="sortFilter" class="btn btn-secondary" style="padding: 8px 12px;">
                        <option value="newest">नए पहले</option>
                        <option value="oldest">पुराने पहले</option>
                        <option value="popular">पॉपुलर</option>
                        <option value="name">नाम A-Z</option>
                    </select>
                </div>
                
                <form method="POST" class="bulk-actions" id="bulkForm">
                    <input type="checkbox" id="selectAll" class="select-all" style="transform: scale(1.2);">
                    <select id="bulkAction" class="btn btn-secondary" style="padding: 8px 12px;">
                        <option value="">बल्क एक्शन</option>
                        <option value="delete">चुने हुए डिलीट करें</option>
                        <option value="export">चुने हुए एक्सपोर्ट करें</option>
                        <option value="featured">फीचर्ड में जोड़ें</option>
                    </select>
                    <button type="button" class="btn btn-danger" id="applyBulkAction">
                        <i class="fas fa-play"></i> लागू करें
                    </button>
                </form>
            </div>
            
            <!-- लोडिंग -->
            <div class="loading" id="loading">
                <i class="fas fa-spinner fa-spin"></i>
                <p>डेटा लोड हो रहा है...</p>
            </div>
            
            <!-- ऐप्स टेबल -->
            <div class="table-container" id="tableContainer">
                <table>
                    <thead>
                        <tr>
                            <th width="50">
                                <input type="checkbox" id="checkAll">
                            </th>
                            <th>ID</th>
                            <th>लोगो</th>
                            <th>ऐप नाम</th>
                            <th>वर्जन</th>
                            <th>साइज</th>
                            <th>डाउनलोड्स</th>
                            <th>जोड़ा गया</th>
                            <th>एक्शन्स</th>
                        </tr>
                    </thead>
                    <tbody id="appsTableBody">
                        <!-- ऐप्स यहाँ डायनामिक भरे जाएंगे -->
                    </tbody>
                </table>
            </div>
            
            <!-- एम्प्टी स्टेट -->
            <div class="empty-state" id="emptyState" style="display: none;">
                <i class="fas fa-box-open"></i>
                <h3>कोई ऐप नहीं मिला</h3>
                <p>अपना पहला ऐप जोड़कर शुरुआत करें!</p>
                <a href="add-app.html" class="btn btn-primary" style="margin-top: 15px;">
                    <i class="fas fa-plus"></i> पहला ऐप जोड़ें
                </a>
            </div>
            
            <!-- पेजिनेशन -->
            <div class="pagination" id="pagination" style="display: none;">
                <button id="firstBtn" class="page-btn" disabled>
                    <i class="fas fa-angle-double-left"></i>
                </button>
                <button id="prevBtn" class="page-btn" disabled>
                    <i class="fas fa-chevron-left"></i>
                </button>
                
                <div id="pageNumbers" style="display: flex; gap: 5px;"></div>
                
                <button id="nextBtn" class="page-btn" disabled>
                    <i class="fas fa-chevron-right"></i>
                </button>
                <button id="lastBtn" class="page-btn" disabled>
                    <i class="fas fa-angle-double-right"></i>
                </button>
            </div>
        </div>
    </div>

    <script src="../assets/js/script.js"></script>
    <script src="../assets/js/apps-data.js"></script>
    <script>
        // डैशबोर्ड डेटा और स्टेट
        let dashboardData = {
            apps: [],
            filteredApps: [],
            stats: {},
            currentPage: 1,
            appsPerPage: 15,
            totalPages: 0,
            bulkSelected: [],
            charts: {}
        };
        
        // DOM तैयार होने पर
        document.addEventListener('DOMContentLoaded', function() {
            // चेक करें कि यूजर लॉग इन है या नहीं
            checkLoginStatus();
            
            // यूजर इनफो अपडेट करें
            updateUserInfo();
            
            // डैशबोर्ड डेटा लोड करें
            loadDashboardData();
            
            // ईवेंट लिस्नेर सेट करें
            setupEventListeners();
            
            // सेशन टाइमर सेट करें
            setupSessionTimer();
        });
        
        // लॉगिन स्टेटस चेक करें
        function checkLoginStatus() {
            const isLoggedIn = localStorage.getItem('admin_logged_in') === 'true';
            
            if (!isLoggedIn) {
                // नोटिफिकेशन दिखाएं
                showAlert('कृपया पहले लॉगिन करें', 'warning');
                
                // 2 सेकंड बाद लॉगिन पेज पर रीडायरेक्ट
                setTimeout(() => {
                    window.location.href = 'login.html';
                }, 2000);
                return false;
            }
            
            return true;
        }
        
        // यूजर इनफो अपडेट करें
        function updateUserInfo() {
            const username = localStorage.getItem('admin_username') || 'Admin';
            const loginTime = localStorage.getItem('login_time');
            
            // यूजरनेम सेट करें
            document.getElementById('userName').textContent = username;
            document.getElementById('userAvatar').textContent = username.charAt(0).toUpperCase();
            
            // वेलकम मैसेज
            const welcomeMsg = document.getElementById('welcomeMessage');
            if (loginTime) {
                const loginDate = new Date(parseInt(loginTime));
                const timeString = loginDate.toLocaleTimeString('hi-IN', { hour: '2-digit', minute: '2-digit' });
                welcomeMsg.textContent = `आखिरी लॉगिन: ${timeString}`;
            } else {
                welcomeMsg.textContent = `वेलकम, ${username}!`;
            }
        }
        
        // डैशबोर्ड डेटा लोड करें
        async function loadDashboardData() {
            try {
                // लोडिंग दिखाएं
                showLoading(true);
                
                // डेटा लोड करें
                await loadAppsData();
                await calculateStats();
                await loadQuickStats();
                
                // ऐप्स टेबल भरें
                displayAppsTable();
                
                // चार्ट सेक्शन शो करें (यदि ऐप्स हैं)
                if (dashboardData.apps.length > 0) {
                    document.getElementById('chartSection').style.display = 'block';
                    // initializeCharts(); // चार्ट्स इनिशियलाइज़ करें
                }
                
            } catch (error) {
                console.error('Error loading dashboard:', error);
                showAlert('डेटा लोड करने में त्रुटि: ' + error.message, 'error');
            } finally {
                showLoading(false);
            }
        }
        
        // ऐप्स डेटा लोड करें
        async function loadAppsData() {
            // localStorage से कस्टम ऐप्स
            const customApps = localStorage.getItem('user_apps');
            
            if (customApps) {
                dashboardData.apps = JSON.parse(customApps);
            } else {
                // डिफ़ॉल्ट ऐप्स
                dashboardData.apps = window.appsData || [];
            }
            
            // डाउनलोड काउंट अपडेट करें
            dashboardData.apps = updateDownloadCounts(dashboardData.apps);
            
            // फ़िल्टर्ड ऐप्स सेट करें
            dashboardData.filteredApps = [...dashboardData.apps];
            
            return dashboardData.apps;
        }
        
        // डाउनलोड काउंट अपडेट करें
        function updateDownloadCounts(apps) {
            return apps.map(app => {
                const savedCount = localStorage.getItem(`downloads_${app.id}`);
                if (savedCount) {
                    app.downloads = parseInt(savedCount) || app.downloads;
                }
                return app;
            });
        }
        
        // स्टैटिस्टिक्स कैलकुलेट करें
        async function calculateStats() {
            const apps = dashboardData.apps;
            
            // बेसिक स्टैट्स
            const totalApps = apps.length;
            const totalDownloads = apps.reduce((sum, app) => sum + app.downloads, 0);
            const avgDownloads = totalApps > 0 ? Math.round(totalDownloads / totalApps) : 0;
            
            // टुडे डाउनलोड्स (सिमुलेशन)
            const today = new Date().toDateString();
            const todayKey = `daily_downloads_${today}`;
            let todayDownloads = localStorage.getItem(todayKey);
            
            if (!todayDownloads) {
                // रैंडम जनरेट करें (रियल प्रोजेक्ट में बैकएंड से लें)
                todayDownloads = Math.floor(Math.random() * 100) + 20;
                localStorage.setItem(todayKey, todayDownloads);
            } else {
                todayDownloads = parseInt(todayDownloads);
            }
            
            // ट्रेंड्स कैलकुलेट करें
            const yesterday = new Date();
            yesterday.setDate(yesterday.getDate() - 1);
            const yesterdayKey = `daily_downloads_${yesterday.toDateString()}`;
            const yesterdayDownloads = parseInt(localStorage.getItem(yesterdayKey)) || 0;
            
            const appsTrend = '+12%'; // सिमुलेशन
            const downloadsTrend = yesterdayDownloads > 0 ? 
                `+${Math.round(((todayDownloads - yesterdayDownloads) / yesterdayDownloads) * 100)}%` : '+0%';
            const avgTrend = '+5%'; // सिमुलेशन
            const todayTrend = '+15%'; // सिमुलेशन
            
            // स्टैट्स अपडेट करें
            dashboardData.stats = {
                totalApps,
                totalDownloads,
                avgDownloads,
                todayDownloads,
                appsTrend,
                downloadsTrend,
                avgTrend,
                todayTrend
            };
            
            // UI अपडेट करें
            updateStatsUI();
        }
        
        // क्विक स्टैट्स लोड करें
        async function loadQuickStats() {
            const apps = dashboardData.apps;
            
            // कैटेगरी वाइज काउंट
            const categories = {
                social: 0,
                entertainment: 0,
                tools: 0,
                games: 0,
                other: 0
            };
            
            apps.forEach(app => {
                if (app.category && categories[app.category] !== undefined) {
                    categories[app.category]++;
                } else {
                    categories.other++;
                }
            });
            
            // फीचर्ड ऐप्स
            const featuredCount = apps.filter(app => app.featured).length;
            
            // नए ऐप्स (लास्ट 7 डेज़)
            const weekAgo = new Date();
            weekAgo.setDate(weekAgo.getDate() - 7);
            const newAppsCount = apps.filter(app => {
                if (!app.created_at) return false;
                const created = new Date(app.created_at);
                return created > weekAgo;
            }).length;
            
            // टॉप डाउनलोडेड
            const topApp = apps.length > 0 ? 
                apps.reduce((max, app) => app.downloads > max.downloads ? app : max) : 
                null;
            
            // क्विक स्टैट्स HTML जनरेट करें
            const quickStatsHTML = `
                <div class="quick-stat">
                    <i class="fas fa-hashtag"></i>
                    <h4>कैटेगरीज़</h4>
                    <p>${Object.keys(categories).length}</p>
                </div>
                <div class="quick-stat">
                    <i class="fas fa-star"></i>
                    <h4>फीचर्ड</h4>
                    <p>${featuredCount}</p>
                </div>
                <div class="quick-stat">
                    <i class="fas fa-clock"></i>
                    <h4>नए (7 दिन)</h4>
                    <p>${newAppsCount}</p>
                </div>
                <div class="quick-stat">
                    <i class="fas fa-crown"></i>
                    <h4>टॉप ऐप</h4>
                    <p>${topApp ? topApp.downloads + ' डाउनलोड' : 'N/A'}</p>
                </div>
            `;
            
            document.getElementById('quickStats').innerHTML = quickStatsHTML;
        }
        
        // स्टैट्स UI अपडेट करें
        function updateStatsUI() {
            const stats = dashboardData.stats;
            
            document.getElementById('totalApps').textContent = stats.totalApps;
            document.getElementById('totalDownloads').textContent = formatNumber(stats.totalDownloads);
            document.getElementById('avgDownloads').textContent = formatNumber(stats.avgDownloads);
            document.getElementById('todayDownloads').textContent = stats.todayDownloads;
            
            document.getElementById('appsTrend').textContent = stats.appsTrend;
            document.getElementById('downloadsTrend').textContent = stats.downloadsTrend;
            document.getElementById('avgTrend').textContent = stats.avgTrend;
            document.getElementById('todayTrend').textContent = stats.todayTrend;
            
            // ट्रेंड्स के लिए क्लास सेट करें
            const trendElements = document.querySelectorAll('.trend');
            trendElements.forEach(el => {
                const isUp = el.textContent.includes('+');
                el.className = 'trend ' + (isUp ? 'up' : 'down');
            });
        }
        
        // ऐप्स टेबल दिखाएं
        function displayAppsTable() {
            const container = document.getElementById('tableContainer');
            const emptyState = document.getElementById('emptyState');
            const pagination = document.getElementById('pagination');
            const tbody = document.getElementById('appsTableBody');
            
            // एम्प्टी चेक
            if (dashboardData.filteredApps.length === 0) {
                container.style.display = 'none';
                emptyState.style.display = 'block';
                pagination.style.display = 'none';
                return;
            }
            
            container.style.display = 'block';
            emptyState.style.display = 'none';
            
            // पेजिनेशन कैलकुलेट करें
            const startIndex = (dashboardData.currentPage - 1) * dashboardData.appsPerPage;
            const endIndex = startIndex + dashboardData.appsPerPage;
            const currentApps = dashboardData.filteredApps.slice(startIndex, endIndex);
            
            // टेबल रोज़ जनरेट करें
            tbody.innerHTML = currentApps.map((app, index) => `
                <tr data-id="${app.id}" data-index="${startIndex + index}">
                    <td>
                        <input type="checkbox" class="app-checkbox" value="${app.id}">
                    </td>
                    <td>#${app.id}</td>
                    <td>
                        <img src="${app.logo}" 
                             alt="${app.name}" 
                             class="app-logo"
                             onerror="this.src='../assets/img/default-logo.png'">
                    </td>
                    <td>
                        <div style="display: flex; flex-direction: column;">
                            <strong>${app.name}</strong>
                            <small style="color: #666; font-size: 0.85rem;">
                                ${app.description.substring(0, 50)}...
                            </small>
                            ${app.featured ? `
                                <span style="background: #fef3c7; color: #92400e; padding: 2px 8px; border-radius: 10px; font-size: 0.7rem; display: inline-block; margin-top: 3px;">
                                    <i class="fas fa-star"></i> फीचर्ड
                                </span>
                            ` : ''}
                        </div>
                    </td>
                    <td>${app.version}</td>
                    <td>${app.size}</td>
                    <td>
                        <span style="color: #059669; font-weight: bold;">
                            ${formatNumber(app.downloads)}
                        </span>
                    </td>
                    <td>
                        ${app.created_at ? new Date(app.created_at).toLocaleDateString('hi-IN') : 'N/A'}
                    </td>
                    <td>
                        <div class="action-buttons">
                            <a href="add-app.html?edit=${app.id}" class="action-btn edit-btn">
                                <i class="fas fa-edit"></i>
                            </a>
                            <button class="action-btn delete-btn" onclick="deleteApp(${app.id})">
                                <i class="fas fa-trash"></i>
                            </button>
                            <a href="../download.html?id=${app.id}" target="_blank" class="action-btn view-btn">
                                <i class="fas fa-eye"></i>
                            </a>
                        </div>
                    </td>
                </tr>
            `).join('');
            
            // पेजिनेशन अपडेट करें
            updatePagination();
        }
        
        // पेजिनेशन अपडेट करें
        function updatePagination() {
            const pagination = document.getElementById('pagination');
            const pageNumbers = document.getElementById('pageNumbers');
            const totalPages = Math.ceil(dashboardData.filteredApps.length / dashboardData.appsPerPage);
            
            dashboardData.totalPages = totalPages;
            
            if (totalPages <= 1) {
                pagination.style.display = 'none';
                return;
            }
            
            pagination.style.display = 'flex';
            
            // पेज नंबर बटन्स जनरेट करें
            pageNumbers.innerHTML = '';
            const maxPagesToShow = 5;
            let startPage = Math.max(1, dashboardData.currentPage - Math.floor(maxPagesToShow / 2));
            let endPage = Math.min(totalPages, startPage + maxPagesToShow - 1);
            
            if (endPage - startPage + 1 < maxPagesToShow) {
                startPage = Math.max(1, endPage - maxPagesToShow + 1);
            }
            
            for (let i = startPage; i <= endPage; i++) {
                const btn = document.createElement('button');
                btn.className = 'page-btn' + (i === dashboardData.currentPage ? ' active' : '');
                btn.textContent = i;
                btn.onclick = () => goToPage(i);
                pageNumbers.appendChild(btn);
            }
            
            // नेविगेशन बटन्स
            document.getElementById('firstBtn').disabled = dashboardData.currentPage === 1;
            document.getElementById('prevBtn').disabled = dashboardData.currentPage === 1;
            document.getElementById('nextBtn').disabled = dashboardData.currentPage === totalPages;
            document.getElementById('lastBtn').disabled = dashboardData.currentPage === totalPages;
            
            // बटन इवेंट्स
            document.getElementById('firstBtn').onclick = () => goToPage(1);
            document.getElementById('prevBtn').onclick = () => goToPage(dashboardData.currentPage - 1);
            document.getElementById('nextBtn').onclick = () => goToPage(dashboardData.currentPage + 1);
            document.getElementById('lastBtn').onclick = () => goToPage(totalPages);
        }
        
        // स्पेसिफिक पेज पर जाएं
        function goToPage(page) {
            if (page < 1 || page > dashboardData.totalPages || page === dashboardData.currentPage) return;
            
            dashboardData.currentPage = page;
            displayAppsTable();
            
            // टेबल के ऊपर स्क्रॉल करें
            document.getElementById('tableContainer').scrollIntoView({ behavior: 'smooth' });
        }
        
        // ईवेंट लिस्नेर सेटअप
        function setupEventListeners() {
            // साइडबार टॉगल
            document.getElementById('sidebarToggle').addEventListener('click', toggleSidebar);
            document.getElementById('sidebarOverlay').addEventListener('click', toggleSidebar);
            
            // लॉगआउट बटन
            document.getElementById('logoutBtn').addEventListener('click', function() {
                if (confirm('क्या आप वाकई लॉगआउट करना चाहते हैं?')) {
                    localStorage.removeItem('admin_logged_in');
                    localStorage.removeItem('admin_username');
                    localStorage.removeItem('login_time');
                    
                    showAlert('सफलतापूर्वक लॉगआउट किया गया', 'success');
                    
                    setTimeout(() => {
                        window.location.href = 'login.html';
                    }, 1500);
                }
            });
            
            // रिफ्रेश बटन
            document.getElementById('refreshBtn').addEventListener('click', function() {
                this.innerHTML = '<i class="fas fa-spinner fa-spin"></i>';
                loadDashboardData();
                setTimeout(() => {
                    this.innerHTML = '<i class="fas fa-sync-alt"></i> रिफ्रेश';
                }, 1000);
            });
            
            // सर्च इनपुट
            document.getElementById('searchInput').addEventListener('input', function() {
                filterApps();
            });
            
            // कैटेगरी फिल्टर
            document.getElementById('categoryFilter').addEventListener('change', filterApps);
            
            // सॉर्ट फिल्टर
            document.getElementById('sortFilter').addEventListener('change', function() {
                sortApps(this.value);
            });
            
            // चेक ऑल बटन
            document.getElementById('checkAll').addEventListener('change', function() {
                const checkboxes = document.querySelectorAll('.app-checkbox');
                checkboxes.forEach(cb => cb.checked = this.checked);
                updateBulkSelection();
            });
            
            // एप चेकबॉक्स
            document.addEventListener('change', function(e) {
                if (e.target.classList.contains('app-checkbox')) {
                    updateBulkSelection();
                }
            });
            
            // बल्क एक्शन
            document.getElementById('applyBulkAction').addEventListener('click', applyBulkAction);
            
            // चार्ट कंट्रोल्स
            document.getElementById('weekBtn').addEventListener('click', function() {
                setActiveChartButton('week');
                // loadWeekChart();
            });
            
            document.getElementById('monthBtn').addEventListener('click', function() {
                setActiveChartButton('month');
                // loadMonthChart();
            });
            
            document.getElementById('yearBtn').addEventListener('click', function() {
                setActiveChartButton('year');
                // loadYearChart();
            });
            
            // लिंक्स के लिए
            document.getElementById('analyticsLink').addEventListener('click', function(e) {
                e.preventDefault();
                showAlert('एनालिटिक्स फीचर जल्द ही आ रहा है!', 'info');
            });
            
            document.getElementById('usersLink').addEventListener('click', function(e) {
                e.preventDefault();
                showAlert('यूजर मैनेजमेंट जल्द ही आ रहा है!', 'info');
            });
            
            document.getElementById('settingsLink').addEventListener('click', function(e) {
                e.preventDefault();
                showAlert('सेटिंग्स फीचर जल्द ही आ रहा है!', 'info');
            });
            
            document.getElementById('backupLink').addEventListener('click', function(e) {
                e.preventDefault();
                showAlert('बैकअप सिस्टम जल्द ही आ रहा है!', 'info');
            });
        }
        
        // साइडबार टॉगल
        function toggleSidebar() {
            const sidebar = document.getElementById('sidebar');
            const overlay = document.getElementById('sidebarOverlay');
            
            sidebar.classList.toggle('active');
            overlay.classList.toggle('active');
        }
        
        // ऐप्स फिल्टर करें
        function filterApps() {
            const searchTerm = document.getElementById('searchInput').value.toLowerCase();
            const category = document.getElementById('categoryFilter').value;
            const sortBy = document.getElementById('sortFilter').value;
            
            dashboardData.filteredApps = dashboardData.apps.filter(app => {
                // सर्च टर्म चेक
                const matchesSearch = !searchTerm || 
                    app.name.toLowerCase().includes(searchTerm) ||
                    app.description.toLowerCase().includes(searchTerm);
                
                // कैटेगरी चेक
                const matchesCategory = !category || app.category === category;
                
                return matchesSearch && matchesCategory;
            });
            
            // सॉर्ट करें
            sortApps(sortBy);
            
            // पेज रीसेट करें
            dashboardData.currentPage = 1;
            
            // टेबल रीड्रॉ करें
            displayAppsTable();
        }
        
        // ऐप्स सॉर्ट करें
        function sortApps(sortBy) {
            switch(sortBy) {
                case 'newest':
                    dashboardData.filteredApps.sort((a, b) => {
                        const dateA = a.created_at ? new Date(a.created_at) : new Date(0);
                        const dateB = b.created_at ? new Date(b.created_at) : new Date(0);
                        return dateB - dateA;
                    });
                    break;
                    
                case 'oldest':
                    dashboardData.filteredApps.sort((a, b) => {
                        const dateA = a.created_at ? new Date(a.created_at) : new Date(0);
                        const dateB = b.created_at ? new Date(b.created_at) : new Date(0);
                        return dateA - dateB;
                    });
                    break;
                    
                case 'popular':
                    dashboardData.filteredApps.sort((a, b) => b.downloads - a.downloads);
                    break;
                    
                case 'name':
                    dashboardData.filteredApps.sort((a, b) => a.name.localeCompare(b.name));
                    break;
            }
        }
        
        // बल्क सिलेक्शन अपडेट करें
        function updateBulkSelection() {
            const checkboxes = document.querySelectorAll('.app-checkbox:checked');
            dashboardData.bulkSelected = Array.from(checkboxes).map(cb => cb.value);
            
            // बल्क एक्शन बटन स्टेट अपडेट करें
            const applyBtn = document.getElementById('applyBulkAction');
            applyBtn.disabled = dashboardData.bulkSelected.length === 0;
        }
        
        // बल्क एक्शन लागू करें
        function applyBulkAction() {
            const action = document.getElementById('bulkAction').value;
            const selectedCount = dashboardData.bulkSelected.length;
            
            if (!action) {
                showAlert('कृपया एक बल्क एक्शन चुनें', 'warning');
                return;
            }
            
            if (selectedCount === 0) {
                showAlert('कृपया कम से कम एक ऐप चुनें', 'warning');
                return;
            }
            
            switch(action) {
                case 'delete':
                    if (confirm(`क्या आप ${selectedCount} ऐप्स को डिलीट करना चाहते हैं? यह एक्शन वापस नहीं किया जा सकता।`)) {
                        deleteMultipleApps();
                    }
                    break;
                    
                case 'export':
                    exportApps();
                    break;
                    
                case 'featured':
                    markAsFeatured();
                    break;
            }
        }
        
        // मल्टीपल ऐप्स डिलीट करें
        function deleteMultipleApps() {
            const selectedIds = dashboardData.bulkSelected;
            
            // ऐप्स फिल्टर करें
            dashboardData.apps = dashboardData.apps.filter(app => !selectedIds.includes(app.id.toString()));
            dashboardData.filteredApps = dashboardData.filteredApps.filter(app => !selectedIds.includes(app.id.toString()));
            
            // localStorage में सेव करें
            localStorage.setItem('user_apps', JSON.stringify(dashboardData.apps));
            
            // सिलेक्शन क्लियर करें
            document.getElementById('checkAll').checked = false;
            dashboardData.bulkSelected = [];
            
            // स्टैट्स रीकैलकुलेट करें
            calculateStats();
            loadQuickStats();
            
            // टेबल रीड्रॉ करें
            displayAppsTable();
            
            showAlert(`${selectedIds.length} ऐप्स सफलतापूर्वक डिलीट किए गए`, 'success');
        }
        
        // ऐप्स एक्सपोर्ट करें
        function exportApps() {
            const selectedIds = dashboardData.bulkSelected;
            const selectedApps = dashboardData.apps.filter(app => selectedIds.includes(app.id.toString()));
            
            // JSON फाइल जनरेट करें
            const dataStr = JSON.stringify(selectedApps, null, 2);
            const dataUri = 'data:application/json;charset=utf-8,'+ encodeURIComponent(dataStr);
            
            const exportFileDefaultName = `op_ashish_yt_apps_${new Date().getTime()}.json`;
            
            const linkElement = document.createElement('a');
            linkElement.setAttribute('href', dataUri);
            linkElement.setAttribute('download', exportFileDefaultName);
            linkElement.click();
            
            showAlert(`${selectedIds.length} ऐप्स एक्सपोर्ट किए गए`, 'success');
        }
        
        // फीचर्ड मार्क करें
        function markAsFeatured() {
            const selectedIds = dashboardData.bulkSelected;
            
            dashboardData.apps.forEach(app => {
                if (selectedIds.includes(app.id.toString())) {
                    app.featured = true;
                }
            });
            
            // localStorage में सेव करें
            localStorage.setItem('user_apps', JSON.stringify(dashboardData.apps));
            
            // क्विक स्टैट्स अपडेट करें
            loadQuickStats();
            
            // टेबल रीड्रॉ करें
            displayAppsTable();
            
            showAlert(`${selectedIds.length} ऐप्स को फीचर्ड में जोड़ा गया`, 'success');
        }
        
        // सिंगल ऐप डिलीट करें
        function deleteApp(appId) {
            const app = dashboardData.apps.find(a => a.id == appId);
            
            if (!app) return;
            
            if (confirm(`क्या आप "${app.name}" को डिलीट करना चाहते हैं?\n\nयह एक्शन वापस नहीं किया जा सकता।`)) {
                // ऐप रिमूव करें
                dashboardData.apps = dashboardData.apps.filter(a => a.id != appId);
                dashboardData.filteredApps = dashboardData.filteredApps.filter(a => a.id != appId);
                
                // localStorage में सेव करें
                localStorage.setItem('user_apps', JSON.stringify(dashboardData.apps));
                
                // स्टैट्स रीकैलकुलेट करें
                calculateStats();
                loadQuickStats();
                
                // टेबल रीड्रॉ करें
                displayAppsTable();
                
                showAlert(`"${app.name}" सफलतापूर्वक डिलीट किया गया`, 'success');
            }
        }
        
        // चार्ट बटन एक्टिव सेट करें
        function setActiveChartButton(activeBtn) {
            ['weekBtn', 'monthBtn', 'yearBtn'].forEach(id => {
                const btn = document.getElementById(id);
                btn.classList.remove('active');
            });
            
            document.getElementById(activeBtn + 'Btn').classList.add('active');
        }
        
        // सेशन टाइमर सेटअप
        function setupSessionTimer() {
            // हर मिनट चेक करें
            setInterval(() => {
                const loginTime = localStorage.getItem('login_time');
                if (!loginTime) return;
                
                const currentTime = new Date().getTime();
                const sessionDuration = 30 * 60 * 1000; // 30 मिनट
                
                if (currentTime - loginTime > sessionDuration) {
                    showAlert('आपका सत्र समाप्त हो गया है। कृपया दोबारा लॉगिन करें।', 'warning');
                    
                    setTimeout(() => {
                        localStorage.removeItem('admin_logged_in');
                        localStorage.removeItem('admin_username');
                        localStorage.removeItem('login_time');
                        window.location.href = 'login.html';
                    }, 2000);
                } else if (currentTime - loginTime > sessionDuration - 5 * 60 * 1000) {
                    // 5 मिनट पहले वार्निंग
                    const timeLeft = Math.ceil((sessionDuration - (currentTime - loginTime)) / 60000);
                    if (timeLeft <= 5 && timeLeft > 0) {
                        showAlert(`आपका सत्र ${timeLeft} मिनट में समाप्त होगा`, 'warning');
                    }
                }
            }, 60000); // हर मिनट
        }
        
        // लोडिंग दिखाएं/छिपाएं
        function showLoading(show) {
            document.getElementById('loading').style.display = show ? 'block' : 'none';
        }
        
        // अलर्ट दिखाएं
        function showAlert(message, type = 'info') {
            const container = document.getElementById('alertContainer');
            
            const alert = document.createElement('div');
            alert.className = `alert ${type}`;
            alert.innerHTML = `
                <i class="fas ${
                    type === 'success' ? 'fa-check-circle' :
                    type === 'error' ? 'fa-exclamation-circle' :
                    type === 'warning' ? 'fa-exclamation-triangle' :
                    'fa-info-circle'
                }"></i>
                <span>${message}</span>
                <button onclick="this.parentElement.remove()" style="margin-left: auto; background: none; border: none; cursor: pointer; color: inherit;">
                    <i class="fas fa-times"></i>
                </button>
            `;
            
            container.appendChild(alert);
            
            // 5 सेकंड बाद ऑटो रिमूव
            setTimeout(() => {
                if (alert.parentNode) {
                    alert.remove();
                }
            }, 5000);
        }
        
        // नंबर फॉर्मेट करें
        function formatNumber(num) {
            if (num >= 1000000) {
                return (num / 1000000).toFixed(1) + 'M';
            } else if (num >= 1000) {
                return (num / 1000).toFixed(1) + 'K';
            }
            return num;
        }
        
        // ग्लोबल फंक्शन्स
        window.deleteApp = deleteApp;
        window.goToPage = goToPage;
    </script>
</body>
</html>